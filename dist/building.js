(function(a){"function"==typeof define&&define.amd?define(a):a()})(function(){'use strict';var a="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,b=function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(c){(function(d,a){c.exports=a()})(a,function(){function n(b){return b instanceof Function?b():b}function a(b){return b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function m(b,c,o,p){var f,q=b.toString(),r=null===c;r||(c=n(c),f=new RegExp(a(c),"g")),o=n(o);var i=/(\)[^{]*{)/,j=/(}?)$/;switch(r||f.test(q)||console.warn("Nothing to inject."),p){case"before":q=r?q.replace(i,"$1"+o):q.replace(f,""+o+c);break;case"replace":q=r?""+o:q.replace(f,""+o);break;case"after":q=r?q.replace(j,o+"$1"):q.replace(f,""+c+o);break;default:throw new Error("where Parameter must be \"before\", \"replace\" or \"after\"");}var k=new Function("return ("+q+")")();return k.prototype=b.prototype,k}function c(e,a){function c(){this.constructor=e}d(e,a),e.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}function t(c){var a=[new g("tooltip",[],function(){c.tooltip=m(m(c.tooltip,"return","let ret = ","replace"),null,"\n//Cppkies injection\n\t\tfor(const i in Cppkies.buildingHooks[\""+c.name+"\"].tooltip) {\n\t\t\tconst tempRet = Cppkies.buildingHooks[\""+c.name+"\"].tooltip[i].call(this, ret)\n\t\t\tret = tempRet || ret\n\t\t}\n\t\treturn ret","after")})],b={};a.forEach(function(c){b[c.value]=c.defValue,c.func&&c.func()}),e.buildingHooks[c.name]=b}var b,e={hooks:{},iconLink:"",buildingLink:"",buildingHooks:{},buildingHooksById:[],onLoad:[],Building:null,injectCode:null,DEFAULT_ONBUY:null,DEFAULT_CPS:null},g=function(){return function(d,a,b){this.value=d,this.defValue=a,this.func=b}}(),d=function(b,a){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(d,a){for(var c in a)a.hasOwnProperty(c)&&(d[c]=a[c])},d(b,a)},h=function(g){function a(a,b,c,d,f,h,j,k,m){var n=g.call(this,a,b,c,d[0],d[1],f,0,h,j)||this;t(n);var o=function(c){if(0<parseInt(c)){var d=Game.ObjectsById[c];d.canvas=l("rowCanvas"+c),d.ctx=d.canvas.getContext("2d"),AddEvent(d.canvas,"mouseover",function(){d.mouseOn=!0}),AddEvent(d.canvas,"mouseout",function(){d.mouseOn=!1}),AddEvent(d.canvas,"mousemove",function(b){var a=d.canvas.getBoundingClientRect();d.mousePos[0]=b.pageX-a.left,d.mousePos[1]=b.pageY-a.top})}};for(var p in Game.ObjectsById)o(p);var q=e.buildingLink+"",i=e.iconLink+"";k&&(Game.foolObjects[a]=k),m&&(Game.goldenCookieBuildingBuffs[a]=m),i&&e.buildingHooks[n.name].tooltip.push(function(b){return n.locked?b:b.replace("background-position","background-image:url("+i+");background-position")}),Game.BuildStore(),q&&e.hooks.postBuildStore.push(function(){l("productIcon"+n.id).style.backgroundImage="url("+q+")",l("productIconOff"+n.id).style.backgroundImage="url("+q+")"}),Game.BuildStore(),n.canvas=l("rowCanvas"+n.id),n.ctx=n.canvas.getContext("2d"),n.context=n.ctx,n.pics=[];var r=document.createElement("div");return r.className="tinyProductIcon",r.id="mutedProduct"+n.id,r.style.display="none",q&&(r.style.backgroundImage="url("+q+")"),r.style.backgroundPositionX="-"+d[0]+"px",r.style.backgroundPositionY="-"+d[1]+"px",r.addEventListener("click",function(){n.mute(0),PlaySound(n.muted?"snd/clickOff.mp3":"snd/clickOn.mp3")}),AddEvent(n.canvas,"mouseover",function(){n.mouseOn=!0}),AddEvent(n.canvas,"mouseout",function(){n.mouseOn=!1}),AddEvent(n.canvas,"mousemove",function(c){var a=n.canvas.getBoundingClientRect();n.mousePos[0]=c.pageX-a.left,n.mousePos[1]=c.pageY-a.top}),l("buildingsMute").appendChild(r),Game.recalculateGains=1,n}return c(a,g),a}(Game.Object);window.Cppkies?(console.warn("Duplicate Cppkies"),b=window.Cppkies):(b=e,b.Building=h,b.injectCode=m,b.DEFAULT_CPS=function(b){return Game.GetTieredCpsMult(b)*Game.magicCpS(b.name)*b.baseCps},b.DEFAULT_ONBUY=function(){Game.UnlockTiered(this),this.amount>=Game.SpecialGrandmaUnlock&&0<Game.Objects.Grandma.amount&&this.grandma&&Game.Unlock(this.grandma.name)},function(){return new Promise(function(c){var f={},a=[new g("customMenu",[],function(){window.Game.UpdateMenu=m(window.Game.UpdateMenu,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tswitch (Game.onMenu) {\n\t\t\t\t\t\tcase \"prefs\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customOptionsMenu) Cppkies.hooks.customOptionsMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"stats\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customStatsMenu) Cppkies.hooks.customStatsMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"log\":\n\t\t\t\t\t\t\tfor(const i in Cppkies.hooks.customInfoMenu) Cppkies.hooks.customInfoMenu[i]();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tfor(const i in Cppkies.hooks.customMenu) Cppkies.hooks.customMenu[i]();\n\t\t\t\t\t","before")}),new g("customOptionsMenu",[]),new g("customStatsMenu",[]),new g("customInfoMenu",[]),new g("customLoad",[],function(){window.Game.LoadSave=m(window.Game.LoadSave,"if (Game.prefs.showBackupWarning==1)","\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customLoad) Cppkies.hooks.customLoad[i](); \n\t\t\t\t\t","before")}),new g("customReset",[],function(){window.Game.Reset=m(window.Game.Reset,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customReset) Cppkies.hooks.customReset[i](hard);\n\t\t\t\t\t","before")}),new g("customBeautify",[],function(){window.Beautify=m(window.Beautify,"return negative?'-'+output:output+decimal;","\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tlet ret = negative?'-'+output:output+decimal;\n\t\t\t\t\tfor(const i in Cppkies.hooks.customBeautify) {\n\t\t\t\t\t\tlet returnedValue = Cppkies.hooks.customBeautify[i](value, floats, ret)\n\t\t\t\t\t\tret = returnedValue ? returnedValue : ret\n\t\t\t\t\t};\n\t\t\t\t\treturn ret;\n\t\t\t\t\t","replace")}),new g("customTooltipDraw",[],function(){window.Game.tooltip.draw=m(window.Game.tooltip.draw,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customTooltipDraw) Cppkies.hooks.customTooltipDraw[i](from, text, origin);\n\t\t\t\t\t","before")}),new g("customTooltipUpdate",[],function(){window.Game.tooltip.update=m(window.Game.tooltip.update,null,"\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customTooltipUpdate) Cppkies.hooks.customTooltipUpdate[i]();\n\t\t\t\t\t","before")}),new g("customHowMuchPrestige",[],function(){window.Game.HowMuchPrestige=m(m(window.Game.HowMuchPrestige,"return","let ret =","replace"),";","\n\t\t\t\t\t// Cppkies injection\n\t\t\t\t\tfor(const i in Cppkies.hooks.customHowManyCookiesReset){ \n\t\t\t\t\t\treturnedValue = Cppkies.hooks.customHowManyCookiesReset[i](chips, ret);\n\t\t\t\t\t\tret = returnedValue ? returnedValue : ret\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t\t","after")}),new g("customHeavenlyMultiplier",[]),new g("UpdateAscensionModePrompt",[]),new g("customReincarnate",[]),new g("customAscend",[]),new g("customUpdateAscend",[]),new g("customBuildAscendTree",[]),new g("customAscend",[]),new g("customGrandmaPic",[],function(){window.Game.Objects.Grandma.art.pic=m(window.Game.Objects.Grandma.art.pic,"return choose(list)+'.png'","// Cppkies injection\n\t\t\t\t\tlist = list.concat(Cppkies.hooks.customGrandmaPic.map(val=>val() || null).filter(val=>val !== null))\n\t\t\t\t\t","before")}),new g("postBuildStore",[],function(){var b=window.Game.BuildStore.toString();window.Game.BuildStore=new Proxy(window.Game.BuildStore,{apply:function(f,a,b){for(var c in f.apply(a,b),e.hooks.postBuildStore)e.hooks.postBuildStore[c]()}}),window.Game.BuildStore.toString=function(){return b}})];a.forEach(function(b){f[b.value]=b.defValue,b.func&&b.func()}),window.Game.Loader.Load=m(window.Game.Loader.Load,"img.src=this.domain","img.src=(assets[i].indexOf('http') !== -1 ? \"\" : this.domain)","replace"),c(f)})}().then(function(c){b.hooks=c,window.Game.Note.call({},"Cppkies loaded!","",[32,17]),window.Game.Win("Third-party"),e.onLoad.forEach(function(b){return b()}),e.onLoad=new Proxy(e.onLoad,{set:function(d,a,b){return"length"!==a&&b(),!0}}),window.Cppkies=b}));var j=b;return j})});b.onLoad.push(function(){b.buildingLink="TBA",b.iconLink="TBA",new b.Building("Think tank","think tank|think tanks|thought about|[X] extra neural pathway|[X] extra neural pathways","Generates cookies by thinking really, really hard about them.",[0,0],{bg:"TBA",pic:"TBA",yV:64,xV:16},b.DEFAULT_CPS,b.DEFAULT_ONBUY,{name:"Brain",desc:"Brain",icon:[1,0]},["Brainstorm","Brain fart"])})});
